@model IEnumerable<KiRaYa.Models.RoomTable>
@using KiRaYa.Models

@{ List<BlockD> listroom = new BlockD().GetAll();}
<div class="card">
    <div class="card-header">
        <h5 style="text-align:center;color:#000000"><b>Room Details</b></h5>
    </div>
    <div class="card-body">
        <table class="table table-bordered table-hover w-100" id="Tbl">
            <thead>
                <tr>
                    <th> Block Name</th>
                    <th>
                        @Html.DisplayNameFor(model => model.RID)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RoomNumber)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RoomSIZE)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ElectriCityCost)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RantAmt)
                    </th>
                    <th>@Html.DisplayNameFor(model=>model.Status)</th>
                    <th></th>
                    
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr id="@item.RID , @item.DDID,vaa ">
                        <td>
                            @{ BlockD OBJBLOCK = listroom.Find(x => x.DDID == item.DDID);}
                            @OBJBLOCK.Name
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RID,new {id="RID" })
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RoomNumber,new { id= "RoomNumber" })
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RoomSIZE,new {id= "RoomSIZE" })
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ElectriCityCost ,new  {id= "ElectriCityCost" })
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RantAmt,new { id = "RantAmt"})
                        </td>
                        <td id="444">
                            @Html.DisplayFor(modelItem => item.Status, new { id = "MyId" })
                        </td>
                        <td>
                            @{
                                string s = Session["UserID"].ToString();
                            }

                            @if (Session["UserID"] != null && Session["UserID"].ToString().Contains("1"))
                            {

                                <a href="/RoomTable/CreateEdit?RID=@item.RID " class="btn btn-warning btn-sm "> Edit</a>
                                <a href="/RoomTable/Delete?ID=@item.RID " class="btn btn-danger btn-sm "> Delete</a>
                                <a href="/RoomTable/CreateEdit?RID=0" class="btn btn-success"><i class="fa fa-plus"></i>add</a>

                            }

                            @if (Session["UserID"].ToString().Contains("2"))

                            {
                                @*<a href="/Rental/termpolcy"   id="manual-ajax">Click</a>*@
                                @*<input type="checkbox" onclick="my();" />*@
                                <button type="button" class="btn btn-primary" onclick="CLick(@item.RID , @item.DDID);">Click</button>



                            }
                        </td>

                    </tr>

                }
            </tbody>
        </table>
    </div>

</div>
<script>
    function CLick(RID , DDID) {
        $("#waiting").show();
        $.ajax({
            type: 'GET',
            url: "/Rental/termpolcy?RID=" + RID + "&DDID=" + DDID,
            success: function (data) {
                alert(data);
               
                $("#ModelContent1").html(data);
               ("#ModelID1")
                $("#waiting").val().hide();
                
            },
            error: function (jqXhr, textStatus, errorMessage) { // error callback

            }
        });
    }
    $(document).ready(function (status) {
        Cal();
       
        function Cal() {
            var status = $("#MyId").val();
            if (status != true) {
                alert("sadd");
                $("#RID").hide();
                $("#Name").hide();
                $("#RoomNumber").hide();
                $("#RoomSize").hide();
                $("#ElectriCityCost").hide();
                $("#RantAmt").hide();
                $("#Status").hide();
            } else
            {
                $("#RID").show();
                $("#Name").show();
                $("#RoomNumber").show();
                $("#RoomSize").show();
                $("#ElectriCityCost").show();
                $("#RantAmt").show();
                $("#Status").show();
            }
        }
       
    });
</script>
 
 